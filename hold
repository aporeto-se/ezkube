 function _cmd() {
   local counter=0
   local out=$tmp/out
   cat /dev/null > $out
   while true; do
     counter=$((counter+1))
     $@ > $out 2>&1 && {
       cat $out
       return 0
     }
     [ $counter -gt 9 ] && break
     sleep 5
   done
   local fail=$(<$out)
   err "Command $@ failed with output $fail"
   return 2
 }
